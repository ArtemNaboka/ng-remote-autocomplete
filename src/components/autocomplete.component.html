<div keyboard-navigation class="remote-autocomplete">
    <input [attr.id]="inputId"
           [attr.class]="inputClass"
           (input)="onType($event)"
           [(ngModel)]="searchValue"/>
    <div class="autocomplete" *ngIf="searchState !== searchStates.Untracked">
        <div *ngIf="searchState === searchStates.Loading || searchState === searchStates.Finished && searchResult === 0">
            <div>{{searchState === searchStates.Loading ? searchingText : notFoundText}}</div>
        </div>

        <div *ngIf="searchState === searchStates.Finished && searchResult?.length > 0">
            <div *ngFor="let item of searchResult; index as i">
                <div cmpl-option
                     [itemIndex]="i"
                     class="option"
                     [ngClass]="{'cmpl-option-active': i === itemListService.activeIndex}"
                     tabindex="0">
                    <ng-template #defaultOptionTemplate>
                        <span class="cmpl-option-value">{{item.description}}</span>
                    </ng-template>

                    <ng-template [ngTemplateOutlet]="optionTemplate || defaultOptionTemplate" [ngTemplateOutletContext]="{ $implicit: item.originalObject }">
                    </ng-template>
                </div>
            </div>
        </div>
    </div>
</div>